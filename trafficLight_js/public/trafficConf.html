<!doctype html>
<html>
    <head>
        <h2>Valgusfooride konfigureerimine</h2>
    </head>
    <body>
        <button id="btn" type="button" onclick="writeAutomaticData()">Send</button>
        <div>
            <h2>Arduino foor 0</h2>
            <p>Automaatsus</p>
            <input type="text" id="firstLightState" name="firstLightState" />
            <button type="button" onclick="writeAutomaticData()">Send</button>
        </div>
        <div>
            <h2>Arduino foor 1</h2>
            <p>Automaatsus</p>
            <input type="text" id="secondLightState" name="secondLightState" />
            <button type="button" onclick="writeAutomaticData()">Send</button>
        </div>
        <div>
            <h2>Neti foor 0</h2>
            <p>Automaatsus</p>
            <input type="text" id="secondLightState" name="secondLightState" />
            <button type="button" onclick="writeAutomaticData()">Send</button>
        </div>
        <div>
            <h2>Neti foor 1</h2>
            <p>Automaatsus</p>
            <input type="text" id="secondLightState" name="secondLightState" />
            <button type="button" onclick="writeAutomaticData()">Send</button>
        </div>
    
    </body>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.12.1/firebase-app.js";
        import { getDatabase, ref, set, get, child, onValue } from "https://www.gstatic.com/firebasejs/9.12.1/firebase-database.js";
        
        const firebaseConfig = {
            apiKey: "AIzaSyBt0s4jGLD1k3_p8SfGS4yhoil0BKmZgKE",
            authDomain: "budget-kahoot.firebaseapp.com",
            databaseURL: "https://budget-kahoot-default-rtdb.europe-west1.firebasedatabase.app",
            projectId: "budget-kahoot",
            storageBucket: "budget-kahoot.appspot.com",
            messagingSenderId: "332478696005",
            appId: "1:332478696005:web:2b6adcec8ceeb90b4c312c"
        };

        const app = initializeApp(firebaseConfig);
        const dbRef = ref(getDatabase());
        const db = getDatabase();
        
        function writeAutomaticData(get) {
            // let automaticState = document.getElementById("firstLightState").value;
            console.log(this);
            // set(ref(db, 'traffic_lights/automatic'), {
                //     id: automaticState
                // });
        }
            
        function writeCycleData(cyclelength) {
            set(ref(db, 'valgusfoor/tsykkel/'), {
                tsykkel: cyclelength
            });
        }
    </script>
</html>